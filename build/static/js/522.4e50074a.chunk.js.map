{"version":3,"file":"static/js/522.4e50074a.chunk.js","mappings":"yOAIAA,IAAAA,SAAAA,QAAyB,+BAAzB,IAEqBC,EAAAA,WAGnB,cAAe,oBAFfC,QAAU,mCAGRC,KAAKC,YAAc,G,OACpB,2EAED,6GAE2BJ,GAAAA,CAAM,6BAAD,OAA8BG,KAAKD,UAFnE,cAEUG,EAFV,yBAGWA,GAHX,gCAKIC,MAAM,wBALV,2GAFC,IAED,+DAQA,WAAqBC,GAArB,gGAE2BP,GAAAA,CAAM,yBAAD,OACDG,KAAKD,QADJ,kBACqBK,EADrB,+CAFhC,cAEUF,EAFV,yBAKWA,GALX,gCAOIC,MAAM,wBAPV,4GARA,IAQA,gEAWA,WAAsBE,GAAtB,gGAE2BR,GAAAA,CAAM,UAAD,OAChBQ,EADgB,oBACFL,KAAKD,QADH,kBACoBC,KAAKC,YADzB,2CAFhC,cAEUC,EAFV,yBAKWA,GALX,gCAOIC,MAAM,sBAPV,4GAXA,IAWA,gEAUA,WAAsBE,GAAtB,gGAE2BR,GAAAA,CAAM,UAAD,OAChBQ,EADgB,4BACML,KAAKD,QADX,oBAFhC,cAEUG,EAFV,yBAKWA,GALX,gCAOIC,MAAM,wBAPV,4GAVA,IAUA,gEAWA,WAAsBE,GAAtB,gGAE2BR,GAAAA,CAAM,UAAD,OAChBQ,EADgB,4BACML,KAAKD,QADX,oBAFhC,cAEUG,EAFV,yBAKWA,GALX,gCAOIC,MAAM,wBAPV,4GAXA,M,EApCmBL,I,qJCLrB,EAAyC,yD,SCyBzC,MArBA,YAA6C,IAATQ,EAAQ,EAARA,KAElC,OADAC,QAAQC,IAAI,OAAQF,IAElB,iBAAKG,UAAWC,EAA0BC,MAAO,CAAEC,QAAS,QAA5D,WACE,oDACA,2BACE,yBACE,SAAC,KAAD,CAASC,GAAE,UAAKP,EAAL,SAAkBQ,YAAa,CAAEC,MAAO,OAASC,OAAK,EAAjE,qBAIF,yBACE,SAAC,KAAD,CAASH,GAAE,UAAKP,EAAL,YAAqBQ,YAAa,CAAEC,MAAO,OAASC,OAAK,EAApE,8BCFJC,GAAmBC,EAAAA,EAAAA,OAAK,kBAAM,iCAC9BC,GAAOD,EAAAA,EAAAA,OAAK,kBAAM,iCAClBE,GAAUF,EAAAA,EAAAA,OAAK,kBAAM,gCAErBG,EAAY,IAAIvB,EAAAA,EAmDtB,MAjDA,WAA6B,IAAD,EAC1B,GAAwCwB,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACQC,GAAQC,EAAAA,EAAAA,MAARD,IACAE,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,GAAOC,EAAAA,EAAAA,MACPC,EAAK,OAAGF,QAAH,IAAGA,GAAH,UAAGA,EAAMG,aAAT,aAAG,EAAaD,MACrBE,EAAeC,OAAOC,KAAKZ,GAAca,OAASb,EAAeQ,EAIjEM,GAAYC,EAAAA,EAAAA,cAAW,iBAAC,uFACvBjB,EADuB,iEAIDA,EAAUkB,gBAAgBZ,GAJzB,QAItBa,EAJsB,SAQ1BhB,EAAgBgB,EAAaC,MARH,2CAU3B,CAACd,IAQJ,OANApB,QAAQC,IAAI,eAAgBe,GAC5BhB,QAAQC,IAAI,QAASuB,IAErBW,EAAAA,EAAAA,YAAU,WACRL,MACC,CAACA,KAEF,4BACE,SAACpB,EAAD,CAAkBc,MAAOE,MACtBC,OAAOC,KAAKZ,GAAca,SAC3B,SAAC,EAAD,CAA0B9B,KAAMmB,KAElC,SAAC,EAAAkB,SAAD,CAAUC,UAAU,wCAApB,UACE,UAAC,KAAD,YACE,SAAC,KAAD,CAAOtC,KAAI,UAAKmB,EAAL,SAAX,UACE,SAACN,EAAD,CAAMQ,QAASA,OAEjB,SAAC,KAAD,CAAOrB,KAAI,UAAKmB,EAAL,YAAX,UACE,SAACL,EAAD,CAASO,QAASA","sources":["Services/ApiService.js","webpack://start-react-template/./src/pages/AdditionalInformationBar/AdditionalInformationBar.module.scss?b40b","pages/AdditionalInformationBar/AdditionalInformationBar.jsx","components/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["import axios from \"axios\";\r\n\r\n//api.themoviedb.org/3/movie/550?api_key=f7d6a30af5958d06330f7e1173f523fb\r\n\r\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\r\n\r\nexport default class MoviesApi {\r\n  API_KEY = \"f7d6a30af5958d06330f7e1173f523fb\";\r\n\r\n  constructor() {\r\n    this.searchQuery = \"\";\r\n  }\r\n\r\n  async getTrendingMovie() {\r\n    try {\r\n      const response = await axios(`/trending/all/day?api_key=${this.API_KEY}`);\r\n      return response;\r\n    } catch (error) {\r\n      alert(\"Something went wrong\");\r\n    }\r\n  }\r\n  async getSearchMovie(text) {\r\n    try {\r\n      const response = await axios(\r\n        `/search/movie?api_key=${this.API_KEY}&query=${text}&language=en-US&page=1&include_adult=false`\r\n      );\r\n      return response;\r\n    } catch (error) {\r\n      alert(\"Something went wrong\");\r\n    }\r\n  }\r\n\r\n  async getMovieDetails(id) {\r\n    try {\r\n      const response = await axios(\r\n        `/movie/${id}?api_key=${this.API_KEY}&query=${this.searchQuery}&language=en-US&page=1&&language=en-US`\r\n      );\r\n      return response;\r\n    } catch (error) {\r\n      alert(\"Less information !\");\r\n    }\r\n  }\r\n  async getMovieCredits(id) {\r\n    try {\r\n      const response = await axios(\r\n        `/movie/${id}/credits?api_key=${this.API_KEY}&language=en-US`\r\n      );\r\n      return response;\r\n    } catch (error) {\r\n      alert(\"Something went wrong\");\r\n    }\r\n  }\r\n\r\n  async getMovieReviews(id) {\r\n    try {\r\n      const response = await axios(\r\n        `/movie/${id}/reviews?api_key=${this.API_KEY}&language=en-US`\r\n      );\r\n      return response;\r\n    } catch (error) {\r\n      alert(\"Something went wrong\");\r\n    }\r\n  }\r\n\r\n  // get query() {\r\n  //   return this.searchQuery;\r\n  // }\r\n\r\n  // set query(newSearch) {\r\n  //   this.searchQuery = newSearch;\r\n  // }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"addInformation_MenuBar\":\"AdditionalInformationBar_addInformation_MenuBar__Salkn\"};","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from \"./AdditionalInformationBar.module.scss\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction AdditionalInformationBar({ path }) {\r\n  console.log(\"path\", path);\r\n  return (\r\n    <div className={s.addInformation_MenuBar} style={{ padding: \"15px\" }}>\r\n      <h4>Additional information</h4>\r\n      <ul>\r\n        <li>\r\n          <NavLink to={`${path}/cast`} activeStyle={{ color: \"red\" }} exact>\r\n            Cast\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to={`${path}/reviews`} activeStyle={{ color: \"red\" }} exact>\r\n            Reviews\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdditionalInformationBar;\r\n\r\nAdditionalInformationBar.propTypes = {\r\n  path: PropTypes.string.isRequired,\r\n};\r\n","import { useState, useCallback, useEffect } from \"react\";\r\nimport {\r\n  Switch,\r\n  Route,\r\n  useParams,\r\n  useRouteMatch,\r\n  useLocation,\r\n  // Redirect,\r\n} from \"react-router-dom\";\r\nimport { lazy, Suspense } from \"react\";\r\n\r\nimport MoviesApi from \"Services/ApiService\";\r\nimport AdditionalInformationBar from \"pages/AdditionalInformationBar/AdditionalInformationBar\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst MovieDetailsItem = lazy(() => import(\"./MovieDetailsItem\"));\r\nconst Cast = lazy(() => import(\"components/Cast/Cast\"));\r\nconst Reviews = lazy(() => import(\"components/Reviews/Reviews\"));\r\n\r\nconst moviesApi = new MoviesApi();\r\n\r\nfunction MovieDetailsPage() {\r\n  const [movieDetails, setMovieDetails] = useState({});\r\n  const { url } = useRouteMatch();\r\n  const { movieId } = useParams();\r\n\r\n  const test = useLocation();\r\n  const movie = test?.state?.movie;\r\n  const checkMovie = !!Object.keys(movieDetails).length ? movieDetails : movie;\r\n  // console.log(\"movieDetails\", !!Object.keys(movieDetails).length);\r\n  // console.log(\"checkMovie\", checkMovie);\r\n\r\n  const axiosData = useCallback(async () => {\r\n    if (!moviesApi) {\r\n      return;\r\n    }\r\n    const showMovieDet = await moviesApi.getMovieDetails(movieId);\r\n    // console.log(\"showMovieDet\", showMovieDet);\r\n\r\n    if (showMovieDet) {\r\n      setMovieDetails(showMovieDet.data);\r\n    }\r\n  }, [movieId]);\r\n\r\n  console.log(\"movieDetails\", movieDetails);\r\n  console.log(\"movie\", movie);\r\n\r\n  useEffect(() => {\r\n    axiosData();\r\n  }, [axiosData]);\r\n  return (\r\n    <div>\r\n      <MovieDetailsItem movie={checkMovie} />\r\n      {!!Object.keys(movieDetails).length && (\r\n        <AdditionalInformationBar path={url} />\r\n      )}\r\n      <Suspense fallback={<h3>In load ...</h3>}>\r\n        <Switch>\r\n          <Route path={`${url}/cast`}>\r\n            <Cast movieId={movieId} />\r\n          </Route>\r\n          <Route path={`${url}/reviews`}>\r\n            <Reviews movieId={movieId} />\r\n          </Route>\r\n        </Switch>\r\n      </Suspense>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MovieDetailsPage;\r\n\r\nMovieDetailsPage.propTypes = {\r\n  movieDetails: PropTypes.object,\r\n  movie: PropTypes.object,\r\n  url: PropTypes.string,\r\n  movieId: PropTypes.string,\r\n};\r\n"],"names":["axios","MoviesApi","API_KEY","this","searchQuery","response","alert","text","id","path","console","log","className","s","style","padding","to","activeStyle","color","exact","MovieDetailsItem","lazy","Cast","Reviews","moviesApi","useState","movieDetails","setMovieDetails","url","useRouteMatch","movieId","useParams","test","useLocation","movie","state","checkMovie","Object","keys","length","axiosData","useCallback","getMovieDetails","showMovieDet","data","useEffect","Suspense","fallback"],"sourceRoot":""}