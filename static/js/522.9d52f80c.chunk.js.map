{"version":3,"file":"static/js/522.9d52f80c.chunk.js","mappings":"yOAIAA,IAAAA,SAAAA,QAAyB,+BAAzB,IAEqBC,EAAAA,WAGnB,cAAe,oBAFfC,QAAU,mCAGRC,KAAKC,YAAc,G,OACpB,2EAED,6GAE2BJ,GAAAA,CAAM,6BAAD,OAA8BG,KAAKD,UAFnE,cAEUG,EAFV,yBAGWA,GAHX,gCAKIC,MAAM,wBALV,2GAFC,IAED,+DAQA,WAAqBC,GAArB,gGAE2BP,GAAAA,CAAM,yBAAD,OACDG,KAAKD,QADJ,kBACqBK,EADrB,+CAFhC,cAEUF,EAFV,yBAKWA,GALX,gCAOIC,MAAM,wBAPV,4GARA,IAQA,gEAWA,WAAsBE,GAAtB,gGAE2BR,GAAAA,CAAM,UAAD,OAChBQ,EADgB,oBACFL,KAAKD,QADH,kBACoBC,KAAKC,YADzB,2CAFhC,cAEUC,EAFV,yBAKWA,GALX,gCAOIC,MAAM,sBAPV,4GAXA,IAWA,gEAUA,WAAsBE,GAAtB,gGAE2BR,GAAAA,CAAM,UAAD,OAChBQ,EADgB,4BACML,KAAKD,QADX,oBAFhC,cAEUG,EAFV,yBAKWA,GALX,gCAOIC,MAAM,wBAPV,4GAVA,IAUA,gEAWA,WAAsBE,GAAtB,gGAE2BR,GAAAA,CAAM,UAAD,OAChBQ,EADgB,4BACML,KAAKD,QADX,oBAFhC,cAEUG,EAFV,yBAKWA,GALX,gCAOIC,MAAM,wBAPV,4GAXA,M,EApCmBL,I,qJCLrB,EAAyC,yD,SCyBzC,MArBA,YAA6C,IAATQ,EAAQ,EAARA,KAElC,OADAC,QAAQC,IAAI,OAAQF,IAElB,iBAAKG,UAAWC,EAA0BC,MAAO,CAAEC,QAAS,QAA5D,WACE,oDACA,2BACE,yBACE,SAAC,KAAD,CAASC,GAAE,UAAKP,EAAL,SAAkBQ,YAAa,CAAEC,MAAO,OAASC,OAAK,EAAjE,qBAIF,yBACE,SAAC,KAAD,CAASH,GAAE,UAAKP,EAAL,YAAqBQ,YAAa,CAAEC,MAAO,OAASC,OAAK,EAApE,8BCFJC,GAAmBC,EAAAA,EAAAA,OAAK,kBAAM,iCAC9BC,GAAOD,EAAAA,EAAAA,OAAK,kBAAM,iCAClBE,GAAUF,EAAAA,EAAAA,OAAK,kBAAM,gCAErBG,EAAY,IAAIvB,EAAAA,EAmDtB,MAjDA,WAA6B,IAAD,EAC1B,GAAwCwB,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACQC,GAAQC,EAAAA,EAAAA,MAARD,IACAE,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,GAAOC,EAAAA,EAAAA,MACPC,EAAK,OAAGF,QAAH,IAAGA,GAAH,UAAGA,EAAMG,aAAT,aAAG,EAAaD,MACrBE,EAAeC,OAAOC,KAAKZ,GAAca,OAASb,EAAeQ,EAIjEM,GAAYC,EAAAA,EAAAA,cAAW,iBAAC,uFACvBjB,EADuB,iEAIDA,EAAUkB,gBAAgBZ,GAJzB,QAItBa,EAJsB,SAQ1BhB,EAAgBgB,EAAaC,MARH,2CAU3B,CAACd,IAQJ,OANApB,QAAQC,IAAI,eAAgBe,GAC5BhB,QAAQC,IAAI,QAASuB,IAErBW,EAAAA,EAAAA,YAAU,WACRL,MACC,CAACA,KAEF,4BACE,SAACpB,EAAD,CAAkBc,MAAOE,MACtBC,OAAOC,KAAKZ,GAAca,SAC3B,SAAC,EAAD,CAA0B9B,KAAMmB,KAElC,SAAC,EAAAkB,SAAD,CAAUC,UAAU,wCAApB,UACE,UAAC,KAAD,YACE,SAAC,KAAD,CAAOtC,KAAI,UAAKmB,EAAL,SAAX,UACE,SAACN,EAAD,CAAMQ,QAASA,OAEjB,SAAC,KAAD,CAAOrB,KAAI,UAAKmB,EAAL,YAAX,UACE,SAACL,EAAD,CAASO,QAASA","sources":["Services/ApiService.js","webpack://start-react-template/./src/pages/AdditionalInformationBar/AdditionalInformationBar.module.scss?b40b","pages/AdditionalInformationBar/AdditionalInformationBar.jsx","components/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["import axios from \"axios\";\n\n//api.themoviedb.org/3/movie/550?api_key=f7d6a30af5958d06330f7e1173f523fb\n\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\n\nexport default class MoviesApi {\n  API_KEY = \"f7d6a30af5958d06330f7e1173f523fb\";\n\n  constructor() {\n    this.searchQuery = \"\";\n  }\n\n  async getTrendingMovie() {\n    try {\n      const response = await axios(`/trending/all/day?api_key=${this.API_KEY}`);\n      return response;\n    } catch (error) {\n      alert(\"Something went wrong\");\n    }\n  }\n  async getSearchMovie(text) {\n    try {\n      const response = await axios(\n        `/search/movie?api_key=${this.API_KEY}&query=${text}&language=en-US&page=1&include_adult=false`\n      );\n      return response;\n    } catch (error) {\n      alert(\"Something went wrong\");\n    }\n  }\n\n  async getMovieDetails(id) {\n    try {\n      const response = await axios(\n        `/movie/${id}?api_key=${this.API_KEY}&query=${this.searchQuery}&language=en-US&page=1&&language=en-US`\n      );\n      return response;\n    } catch (error) {\n      alert(\"Less information !\");\n    }\n  }\n  async getMovieCredits(id) {\n    try {\n      const response = await axios(\n        `/movie/${id}/credits?api_key=${this.API_KEY}&language=en-US`\n      );\n      return response;\n    } catch (error) {\n      alert(\"Something went wrong\");\n    }\n  }\n\n  async getMovieReviews(id) {\n    try {\n      const response = await axios(\n        `/movie/${id}/reviews?api_key=${this.API_KEY}&language=en-US`\n      );\n      return response;\n    } catch (error) {\n      alert(\"Something went wrong\");\n    }\n  }\n\n  // get query() {\n  //   return this.searchQuery;\n  // }\n\n  // set query(newSearch) {\n  //   this.searchQuery = newSearch;\n  // }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"addInformation_MenuBar\":\"AdditionalInformationBar_addInformation_MenuBar__BTydi\"};","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport s from \"./AdditionalInformationBar.module.scss\";\nimport PropTypes from \"prop-types\";\n\nfunction AdditionalInformationBar({ path }) {\n  console.log(\"path\", path);\n  return (\n    <div className={s.addInformation_MenuBar} style={{ padding: \"15px\" }}>\n      <h4>Additional information</h4>\n      <ul>\n        <li>\n          <NavLink to={`${path}/cast`} activeStyle={{ color: \"red\" }} exact>\n            Cast\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to={`${path}/reviews`} activeStyle={{ color: \"red\" }} exact>\n            Reviews\n          </NavLink>\n        </li>\n      </ul>\n    </div>\n  );\n}\n\nexport default AdditionalInformationBar;\n\nAdditionalInformationBar.propTypes = {\n  path: PropTypes.string.isRequired,\n};\n","import { useState, useCallback, useEffect } from \"react\";\nimport {\n  Switch,\n  Route,\n  useParams,\n  useRouteMatch,\n  useLocation,\n  // Redirect,\n} from \"react-router-dom\";\nimport { lazy, Suspense } from \"react\";\n\nimport MoviesApi from \"Services/ApiService\";\nimport AdditionalInformationBar from \"pages/AdditionalInformationBar/AdditionalInformationBar\";\nimport PropTypes from \"prop-types\";\n\nconst MovieDetailsItem = lazy(() => import(\"./MovieDetailsItem\"));\nconst Cast = lazy(() => import(\"components/Cast/Cast\"));\nconst Reviews = lazy(() => import(\"components/Reviews/Reviews\"));\n\nconst moviesApi = new MoviesApi();\n\nfunction MovieDetailsPage() {\n  const [movieDetails, setMovieDetails] = useState({});\n  const { url } = useRouteMatch();\n  const { movieId } = useParams();\n\n  const test = useLocation();\n  const movie = test?.state?.movie;\n  const checkMovie = !!Object.keys(movieDetails).length ? movieDetails : movie;\n  // console.log(\"movieDetails\", !!Object.keys(movieDetails).length);\n  // console.log(\"checkMovie\", checkMovie);\n\n  const axiosData = useCallback(async () => {\n    if (!moviesApi) {\n      return;\n    }\n    const showMovieDet = await moviesApi.getMovieDetails(movieId);\n    // console.log(\"showMovieDet\", showMovieDet);\n\n    if (showMovieDet) {\n      setMovieDetails(showMovieDet.data);\n    }\n  }, [movieId]);\n\n  console.log(\"movieDetails\", movieDetails);\n  console.log(\"movie\", movie);\n\n  useEffect(() => {\n    axiosData();\n  }, [axiosData]);\n  return (\n    <div>\n      <MovieDetailsItem movie={checkMovie} />\n      {!!Object.keys(movieDetails).length && (\n        <AdditionalInformationBar path={url} />\n      )}\n      <Suspense fallback={<h3>In load ...</h3>}>\n        <Switch>\n          <Route path={`${url}/cast`}>\n            <Cast movieId={movieId} />\n          </Route>\n          <Route path={`${url}/reviews`}>\n            <Reviews movieId={movieId} />\n          </Route>\n        </Switch>\n      </Suspense>\n    </div>\n  );\n}\n\nexport default MovieDetailsPage;\n\nMovieDetailsPage.propTypes = {\n  movieDetails: PropTypes.object,\n  movie: PropTypes.object,\n  url: PropTypes.string,\n  movieId: PropTypes.string,\n};\n"],"names":["axios","MoviesApi","API_KEY","this","searchQuery","response","alert","text","id","path","console","log","className","s","style","padding","to","activeStyle","color","exact","MovieDetailsItem","lazy","Cast","Reviews","moviesApi","useState","movieDetails","setMovieDetails","url","useRouteMatch","movieId","useParams","test","useLocation","movie","state","checkMovie","Object","keys","length","axiosData","useCallback","getMovieDetails","showMovieDet","data","useEffect","Suspense","fallback"],"sourceRoot":""}